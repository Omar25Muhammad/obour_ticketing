{
 "accept_payment": 0,
 "allow_comments": 1,
 "allow_delete": 0,
 "allow_edit": 1,
 "allow_incomplete": 0,
 "allow_multiple": 1,
 "allow_print": 0,
 "amount": 0.0,
 "amount_based_on_field": 0,
 "apply_document_permissions": 1,
 "breadcrumbs": "[{\"label\":_(\"Issues\"), \"route\":\"issues\"}]",
 "button_label": "Submit",
 "client_script": "frappe.web_form.after_load = () => {\n    frappe.call({\n        method: \"obour_ticketing.api.get_customer\",\n        args: {\n            user: frappe.session.user\n        },\n        callback: r => {\n            if(r.message && !r.exc) {\n                frappe.web_form.set_value(\"customer\", r.message)\n            }\n            else{\n                frappe.web_form.set_value(\"customer\", \"\")\n            }\n        }\n    });\n\n    // Add close button\n  \t//if (frappe.web_form.doc.status != \"Closed\" && !frappe.web_form.is_new){\n\t//\tfrappe.web_form.add_button_to_header(\"Close\", \"warning\", closeTicket)\n\t//}\n    // Add Decline button\n  \tif (frappe.web_form.doc.status == \"Resolved\"){\n\t\tfrappe.web_form.add_button_to_header(\"Decline\", \"dark\", reOpenTicket)\n\t}\n\t\n\t// Add cancel button \n  \tif ((frappe.web_form.doc.status != \"Resolved\" || frappe.web_form.doc.status != \"Closed\") && frappe.web_form.doc.owner == frappe.session.user){\n\t\tfrappe.web_form.add_button_to_header(\"Cancel\", \"danger\", archiveTicket)\n\t}\n\t\n\t// set fields as read only ====\n\tif (!frappe.web_form.is_new) {\n\t\n\t    // Hide Submit Button After Save\n\t    $(\".btn.btn-primary.btn-sm.ml-2\").css(\"visibility\", \"hidden\");\n\t    \n\t    // Hide Add Row Button for Attachment table After Save\n\t    $(\".btn.btn-xs.btn-secondary.grid-add-row\").css(\"visibility\", \"hidden\");\n\t//\tfrappe.web_form.fields.map(field => field.read_only = 1)\n\tfrappe.web_form.fields.map((field) => {\n  if (field.fieldname == \"subject\") field.read_only = 1;\n  if (field.fieldname == \"status\") field.read_only = 1;\n  if (field.fieldname == \"ticketing_group\") field.read_only = 1;\n  if (field.fieldname == \"issue_type\") field.read_only = 1;\n  if (field.fieldname == \"priority\") field.read_only = 1;\n  if (field.fieldname == \"customer\") field.read_only = 1;\n  if (field.fieldname == \"description\") field.read_only = 1;\n});\n\nfrappe.web_form.refresh();\n\t\tfrappe.web_form.refresh()\n\t}\n\t\n\t// add description on buttons\n\t\n    $(\"button:contains('Close')\").attr(\"title\", \"Close Tickt Status='Closed'\");\n    $(\"button:contains('Decline')\").attr(\"title\", \"Re-Open The Resolved Tickt\");\n\n};\n",
 "creation": "2023-06-15 16:56:44.148382",
 "custom_css": "label{\n    color: #2490ef;\n}\ninput, .like-disabled-input, .form-control, .ql-editor{\n    font-weight: 600 !important;\n}\n.form-clickable-section{\n    background-color: #fff;\n}",
 "doc_type": "Issue",
 "docstatus": 0,
 "doctype": "Web Form",
 "idx": 0,
 "introduction_text": "<div class=\"ql-editor read-mode\"><p><br></p></div>",
 "is_multi_step_form": 0,
 "is_standard": 1,
 "login_required": 1,
 "max_attachment_size": 50,
 "modified": "2023-10-24 11:18:10.556034",
 "modified_by": "Administrator",
 "module": "Obour Ticketing",
 "name": "issues",
 "owner": "Administrator",
 "published": 1,
 "route": "issues",
 "route_to_success_link": 0,
 "show_attachments": 0,
 "show_in_grid": 1,
 "show_sidebar": 1,
 "sidebar_items": [],
 "success_message": "",
 "success_url": "/issues",
 "title": "Issue",
 "web_form_fields": [
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "subject",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Subject",
   "max_length": 3,
   "max_value": 0,
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 1,
   "fieldname": "ticketing_group",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Ticketing Groups",
   "max_length": 0,
   "max_value": 0,
   "options": "Ticketing Groups",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "",
   "fieldname": "status",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Status",
   "max_length": 0,
   "max_value": 0,
   "options": "\nUn Assigned\nOpen\nIn Progress\nOn Hold\nResolved\nClosed",
   "read_only": 1,
   "reqd": 0,
   "show_in_filter": 1
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "",
   "fieldtype": "Column Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 1,
   "default": "",
   "fieldname": "issue_type",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Issue Type",
   "max_length": 0,
   "max_value": 0,
   "options": "Issue Type",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "Low",
   "fieldname": "priority",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Priority",
   "max_length": 0,
   "max_value": 0,
   "options": "Critical\nHigh\nMedium\nLow",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "customer",
   "fieldtype": "Data",
   "hidden": 1,
   "label": "Customer",
   "max_length": 0,
   "max_value": 0,
   "options": "Customer",
   "read_only": 1,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "1",
   "fieldname": "via_customer_portal",
   "fieldtype": "Check",
   "hidden": 1,
   "label": "Via Customer Portal",
   "max_length": 0,
   "max_value": 0,
   "read_only": 1,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "",
   "fieldtype": "Section Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "attachments",
   "fieldtype": "Table",
   "hidden": 0,
   "label": "Attachments",
   "max_length": 0,
   "max_value": 0,
   "options": "Attachment",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "",
   "fieldtype": "Section Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "description",
   "fieldtype": "Text Editor",
   "hidden": 0,
   "label": "Description",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "",
   "fieldname": "resolution_details",
   "fieldtype": "Text Editor",
   "hidden": 0,
   "label": "Resolution Note",
   "max_length": 0,
   "max_value": 0,
   "read_only": 1,
   "reqd": 0,
   "show_in_filter": 0
  }
 ]
}